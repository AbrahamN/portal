<% content_for :title, "Taverna Lite - Workflow: " + @workflow.title %>
<h1><%= "Details of Workflow: " + @workflow.title %></h1>
<%= link_to 'myExperiment', @workflow.my_experiment_id %>
<p />


<%= render :partial => 'workflow_tabs', :locals => {:workflow => @workflow} %>
<%= render :partial => 'workflow_authors', :locals => {:workflow => @workflow} %>
<%= render :partial => 'workflow_description', :locals => {:workflow => @workflow} %>
<%= render :partial => 'workflow_inputs', :locals => {:workflow => @workflow} %>
<%= render :partial => 'workflow_stats', :locals => {:workflow => @workflow} %>

<div id="createrun" style="float:right;position:relative;">
  <b>Click to execute workflow</b>
  <%= button_to 'Create Run', :controller => 'runs', :action => 'new_run', 
  :id => @workflow %>
</div>
<br/><br/>
<%= javascript_tag do -%>
$(document).ready(showonlyone('wf_description_div','wf_tab_desc'));

function showonlyone(selected_div, selected_tab) {
      var wf_part_divs = document.getElementsByTagName("div");
            for(var x=0; x<wf_part_divs.length; x++) {
                  name = wf_part_divs[x].getAttribute("class");
                  if (name == 'workflow_part') {
                        if (wf_part_divs[x].id == selected_div) {
                        wf_part_divs[x].style.display = 'block';
                  }
                  else {
                        wf_part_divs[x].style.display = 'none';
                  }
            }
      }
      var wf_part_tabs = document.getElementsByTagName("li");
      for(var y=0; y<wf_part_tabs.length; y++) {
        name = wf_part_tabs[y].getAttribute("class");
        if (name == 'wf_tab') {
          if (wf_part_tabs[y].id == selected_tab) {
            wf_part_tabs[y].style.background = 'hsla(80, 90%, 40%, 0.7)';
          }
          else {
            wf_part_tabs[y].style.background = 'hsla(120, 100%, 50%, 0.7)';
          }
        }
      }
}
     
<% end -%>


<%= link_to 'Back', workflows_path %>

